<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Day Entry</title>
</head>
<body>

    <form id="Work Day Entry">

        <label for="rating">Rating:</label>
        <input type="text" id="rating" name="rating" required><br>

        <label for="comments">Comments:</label>
        <input type="text" id="comments" name="comments" required><br>

         <button onclick="postRating()">Submit Your Entry</button>
      </form>
    <script>
        function postRating() {
            // Get the rating from the textarea
            const rating = document.getElementById("rating").value;

            const apiEndpoint = 'http://127.0.0.1:5000'; // added 'http://'

            // Make a POST request to the API with the rating
            fetch(apiEndpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ rating: rating }), // corrected property name
            })
            .then(response => response.json())
            .then(data => {
                // Use the API response to populate the comments textarea
                document.getElementById("comments").value = data.comments;
            })
            .catch(error => console.error('Error:', error));
        }
    </script>

</body>
</html>
